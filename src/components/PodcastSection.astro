---
/**
 * Bannière promotionnelle pour les podcasts
 * Redirige vers l'app, YouTube et YouTube Music
 */

interface Props {
  hasPodcasts: boolean;
  youtubeChannelUrl?: string;
  youtubeMusicUrl?: string;
}

const {
  hasPodcasts,
  youtubeChannelUrl = "https://www.youtube.com/@CasqueEnMains",
  youtubeMusicUrl = "https://music.youtube.com/channel/UCcasqueenmains"
} = Astro.props;
---

{hasPodcasts && (
  <section class="podcast-banner">
    <div class="podcast-banner-content">
      <!-- Icône casque -->
      <div class="podcast-banner-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 18v-6a9 9 0 0 1 18 0v6"/>
          <path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"/>
        </svg>
      </div>

      <!-- Texte principal -->
      <div class="podcast-banner-text">
        <h3>Retrouvez les podcasts de ce chapitre</h3>
        <p>Écoutez ce contenu en audio sur votre plateforme préférée</p>
      </div>
    </div>

    <!-- Liens -->
    <div class="podcast-banner-links">
      <!-- App -->
      <a
        href="https://app.casqueenmains.fr"
        target="_blank"
        rel="noopener noreferrer"
        class="podcast-banner-link app"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"/>
        </svg>
        <span>Notre App</span>
      </a>

      <!-- YouTube -->
      <a
        href={youtubeChannelUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="podcast-banner-link youtube"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
        </svg>
        <span>YouTube</span>
      </a>

      <!-- YouTube Music -->
      <a
        href={youtubeMusicUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="podcast-banner-link youtube-music"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0C5.376 0 0 5.376 0 12s5.376 12 12 12 12-5.376 12-12S18.624 0 12 0zm0 19.104c-3.924 0-7.104-3.18-7.104-7.104S8.076 4.896 12 4.896s7.104 3.18 7.104 7.104-3.18 7.104-7.104 7.104zm0-13.332c-3.432 0-6.228 2.796-6.228 6.228S8.568 18.228 12 18.228s6.228-2.796 6.228-6.228S15.432 5.772 12 5.772zM9.684 15.54V8.46L15.816 12l-6.132 3.54z"/>
        </svg>
        <span>YouTube Music</span>
      </a>
    </div>
  </section>
)}

<style>
  .podcast-banner {
    margin: 3rem 0;
    padding: 1.5rem 2rem;
    background: linear-gradient(135deg, rgba(220, 38, 38, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
    border: 1px solid rgba(220, 38, 38, 0.25);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .podcast-banner-content {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
    min-width: 280px;
  }

  .podcast-banner-icon {
    flex-shrink: 0;
    width: 56px;
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #DC2626, #EF4444);
    border-radius: 14px;
    color: white;
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
  }

  .podcast-banner-text h3 {
    font-size: 1.125rem;
    font-weight: 700;
    color: white;
    margin: 0 0 0.25rem 0;
    line-height: 1.3;
  }

  .podcast-banner-text p {
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
    margin: 0;
  }

  .podcast-banner-links {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .podcast-banner-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    border-radius: 10px;
    font-size: 0.875rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
    white-space: nowrap;
  }

  .podcast-banner-link.app {
    background: rgba(220, 38, 38, 0.15);
    border: 1px solid rgba(220, 38, 38, 0.3);
    color: #EF4444;
  }

  .podcast-banner-link.app:hover {
    background: rgba(220, 38, 38, 0.25);
    border-color: rgba(220, 38, 38, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.2);
  }

  .podcast-banner-link.youtube {
    background: rgba(255, 0, 0, 0.12);
    border: 1px solid rgba(255, 0, 0, 0.25);
    color: #FF4444;
  }

  .podcast-banner-link.youtube:hover {
    background: rgba(255, 0, 0, 0.2);
    border-color: rgba(255, 0, 0, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 0, 0, 0.15);
  }

  .podcast-banner-link.youtube-music {
    background: rgba(255, 0, 0, 0.12);
    border: 1px solid rgba(255, 0, 0, 0.25);
    color: #FF0000;
  }

  .podcast-banner-link.youtube-music:hover {
    background: rgba(255, 0, 0, 0.2);
    border-color: rgba(255, 0, 0, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 0, 0, 0.15);
  }

  @media (max-width: 768px) {
    .podcast-banner {
      flex-direction: column;
      align-items: stretch;
      padding: 1.25rem;
      gap: 1.25rem;
    }

    .podcast-banner-content {
      min-width: auto;
    }

    .podcast-banner-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
    }

    .podcast-banner-icon svg {
      width: 24px;
      height: 24px;
    }

    .podcast-banner-text h3 {
      font-size: 1rem;
    }

    .podcast-banner-links {
      justify-content: center;
    }

    .podcast-banner-link {
      flex: 1;
      justify-content: center;
      min-width: 100px;
    }
  }
</style>
