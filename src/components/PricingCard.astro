---
interface Props {
    title: string;
    price: string;
    period: string;
    features: string[];
    isPopular?: boolean;
    ctaText?: string;
    ctaLink?: string;
}

const {
    title,
    price,
    period,
    features,
    isPopular = false,
    ctaText = "Choisir ce plan",
    ctaLink = "https://app.casqueenmains.fr/register",
} = Astro.props;
---

<div
    class={`relative p-8 rounded-2xl border ${isPopular ? "border-accent bg-navy-800/50" : "border-white/10 glass-card"} flex flex-col h-full transition-transform duration-300 hover:-translate-y-1`}
>
    {
        isPopular && (
            <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-accent text-white px-4 py-1 rounded-full text-sm font-medium shadow-lg shadow-accent/20">
                Recommand√©
            </div>
        )
    }

    <div class="mb-8">
        <h3 class="text-xl font-semibold text-white mb-2">{title}</h3>
        <div class="flex items-baseline">
            <span class="text-4xl font-bold text-white">{price}</span>
            <span class="text-gray-400 ml-2">/{period}</span>
        </div>
        <p class="mt-4 text-sm text-gray-400">
            3 jours d'essai gratuit, sans engagement.
        </p>
    </div>

    <ul class="space-y-4 mb-8 grow">
        {
            features.map((feature) => (
                <li class="flex items-start">
                    <svg
                        class="h-6 w-6 text-accent shrink-0 mr-3"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M5 13l4 4L19 7"
                        />
                    </svg>
                    <span class="text-gray-300 text-sm">{feature}</span>
                </li>
            ))
        }
    </ul>

    <a
        href={ctaLink}
        class={`w-full block text-center py-3 px-6 rounded-xl font-medium transition-all duration-200 ${
            isPopular
                ? "bg-accent hover:bg-accent-hover text-white shadow-lg shadow-accent/25"
                : "bg-white/10 hover:bg-white/20 text-white"
        }`}
    >
        {ctaText}
    </a>
</div>
